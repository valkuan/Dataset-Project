# -*- coding: utf-8 -*-
"""jsaputra_project4_fall2020_ASYNC

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1RxMoymulSNr-wDvN8XMvbImYGXpmj9ug
"""

# Jiliane Saputra, Valerie Kuan

# 11/23-11/24 Valerie and Jiliane fround the datasets we wanted to use for the project

# 12/11 Jiliane wrote the storytelling text

# 11/28 Valerie combined the datasets 

# 2015.csv is the happiness report in 2015.
# https://www.kaggle.com/unsdsn/world-happiness?select=2015.csv
with open("2015.csv") as fp:
  file1 = fp.read()

# Dataset3.csv is women entrepreneurship in 2015.
# https://www.kaggle.com/babyoda/women-entrepreneurship-and-labor-force
with open("Dataset3.csv") as fp:
  file2 = fp.read()

import pandas as pd
happiness = pd.read_csv("2015.csv")
entrepreneurs = pd.read_csv("Dataset3.csv", sep=';')
pd.merge(happiness, entrepreneurs)

# 11/27 Valerie wrote down some interesting facts/patterns
# 11/30 Jiliane came up with some more interesting facts/patterns

"""Interesting Patterns:

1.   24/51 of the listed countries are developing countries
2.   the citizens in happier countries tend to have more freedom
3.   happier countries don't experience much inflation/deflation
4.   countries that experience more extreme inflation/deflation have lower women entrepreneurship index

Other ideas we came up with:

*   happier countries tend to be more generous compared to less happy countries
*   developed countries have higher women entrepreneurship than developing countries
*   countries with lower life expectancies generally have significantly smaller women entrepreneurship indexes and female labor force participation rates
    *   exceptions: Latin American countries

27 out of the 51 listed countries are developed countries. This shows that more developed countries are happier with higher happiness scores. Many factors can contribute to developed countries having higher happiness scores, which we will see in the following patterns.
"""

# 12/7 Valerie 

# pie chart source: https://matplotlib.org/3.1.1/gallery/pie_and_polar_charts/pie_features.html
# interesting fact: 24/51 of the listed countries are developing countries
import matplotlib.pyplot as plt
import pandas as pd

with open('2015.csv') as fp:
  file1 = fp.read()

with open('Dataset3.csv') as fp:
  file2 = fp.read()

happiness = pd.read_csv('2015.csv')
entrepreneurs = pd.read_csv('Dataset3.csv', sep=';')
df = pd.merge(happiness, entrepreneurs)

dev_series = df['Level of development'].value_counts()
dev_series.plot.pie(label='Level of Development', title='Developed to Developing Countries')

"""Citizens in countries with higher happines scores tend to have more freedom. We can see this if you compare the top 10 happiest countries and their freedom to the bottom 10 countries. Freedom is an important factor to ones happiness. Without freedom, people will feel restricted and trapped. They will not be able to explore and be themselves. Freedom allows people to have high autonomy while working with others. """

# 12/10 Jiliane

# the citizens in happier countries tend to have more freedom

import pandas as pd

df = pd.read_csv('2015.csv')

print(
   df[['Happiness Score', 'Freedom']].head(10)
)

print(
    df[['Happiness Score', 'Freedom']].tail(10)
)

"""Happier countries typically don't experience much inflation and deflation. Countries with lower happiness scores either expreience a lot of inflation or barely any. Happier countries have an inflation rate closer to 0. However, Brazil is a huge exception to this pattern. Countries that don't have extreme inflation rates are more stable, so citizens will feel more comfortable. An optimum level of inflation is required to promote spending to a certain extent instead of saving, which will help nurture economic growth."""

# 12/9 Valerie

#plot chart source: https://matplotlib.org/gallery/lines_bars_and_markers/simple_plot.html
#interesting fact: happier countries typically don't experience much inflation/deflation

import matplotlib.pyplot as plt
import pandas as pd

with open('2015.csv') as fp:
  file1 = fp.read()

with open('Dataset3.csv') as fp:
  file2 = fp.read()

happiness = pd.read_csv('2015.csv')
entrepreneurs = pd.read_csv('Dataset3.csv', sep=';')
df = pd.merge(happiness, entrepreneurs)
happiness_score = df['Happiness Score']
inflation = df['Inflation rate']

fig, ax = plt.subplots()
ax.plot(happiness_score, inflation)
ax.set(xlabel='Happiness Score', ylabel='Inflation Rate')
ax.grid()

plt.title('Relationship between Happiness Score and Inflation Rate')
plt.show()

"""Countries that experience more extreme inflation and deflation have lower women entrepreneurship index. Higher women entreprenurship index countries have inflation rates closer to 0. As you can see in the scatter plot, countries with low women entrepreneurship index have inflation rates that are all over the place. High inflation can reduce economic growth and lead to a recession, so entrepreneurs will have a harder time when their country expereiences high inflation rates. On the other hand, extreme deflation increases purchasing power, but could be quickly change to extreme inflation. Because of this, people are more careful and choose to be safe and not try new things. 
Happier countries experience more freedom and have higher women entrepreneurship indexes. Because the citizens in these countries have more freedom, they are able to be more creative and become entrepreneurs. 
"""

# 12/9 Jiliane

# interesting fact: countries that experience more extreme inflation/deflation have lower women entrepreneurship index 

# source: http://www.learningaboutelectronics.com/Articles/How-to-plot-a-graph-with-matplotlib-from-data-from-a-CSV-file-using-the-CSV-module-in-Python.php

import matplotlib.pyplot as plt
import csv
import pandas as pd

x=[]
y=[]

with open('Dataset3.csv', 'r') as csvfile:
    plots = csv.reader(csvfile, delimiter=';')
    next(plots, None)
    for column in plots:
        x.append(float(column[5]))
        y.append(float(column[7]))

plt.xlabel('Women Entrepreneurship Index')
plt.ylabel('Inflation Rate')

plt.scatter(x, y, marker='.')

plt.title('Relationship between Inflation Rate and Women Entrepreneurship Index')
plt.show()

"""Overall, we see the connection between people's happiness, freedom, inflation rates, and the women entrepreneurship index in different countries. We are able to see all the different factors that affect people's happiness in their countries. """